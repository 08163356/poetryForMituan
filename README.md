# ğŸŒ¸ è¯—éŸµå®¶å›­ - å¤è¯—å®¶åº­ç½‘ç«™

<p align="center">
  <img src="https://img.shields.io/badge/Vue-3.x-4FC08D?style=flat-square&logo=vue.js" alt="Vue 3">
  <img src="https://img.shields.io/badge/TypeScript-5.x-3178C6?style=flat-square&logo=typescript" alt="TypeScript">
  <img src="https://img.shields.io/badge/Express-4.x-000000?style=flat-square&logo=express" alt="Express">
  <img src="https://img.shields.io/badge/MongoDB-6.x-47A248?style=flat-square&logo=mongodb" alt="MongoDB">
  <img src="https://img.shields.io/badge/Docker-Ready-2496ED?style=flat-square&logo=docker" alt="Docker">
</p>

## ğŸ“– é¡¹ç›®èƒŒæ™¯

**è¯—éŸµå®¶å›­** æ˜¯ä¸€ä¸ªä¸“ä¸ºå®¶åº­è®¾è®¡çš„ç§å¯†å¤è¯—åˆ†äº«å¹³å°ã€‚åœ¨è¿™ä¸ªæ•°å­—åŒ–æ—¶ä»£ï¼Œæˆ‘ä»¬å¸Œæœ›ä¸ºå®¶äººåˆ›é€ ä¸€ä¸ªæ¸©é¦¨çš„ç©ºé—´ï¼Œç”¨äºï¼š

- ğŸ“ è®°å½•å’Œåˆ†äº«å®¶äººåˆ›ä½œçš„å¤è¯—è¯
- ğŸ¨ æ¬£èµå¤äººçš„ç»å…¸è¯—è¯ä½œå“
- ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ ä¿ƒè¿›å®¶åº­æˆå‘˜ä¹‹é—´çš„æ–‡åŒ–äº¤æµ
- ğŸ”’ ä¿æŠ¤å®¶åº­éšç§ï¼Œåªæœ‰å—é‚€æˆå‘˜æ‰èƒ½è®¿é—®

### ä¸ºä»€ä¹ˆåšè¿™ä¸ªé¡¹ç›®ï¼Ÿ

- **ä¼ æ‰¿æ–‡åŒ–**ï¼šè®©å¤è¯—è¯æˆä¸ºå®¶åº­æ–‡åŒ–çš„ä¸€éƒ¨åˆ†
- **ç§å¯†åˆ†äº«**ï¼šä¸åŒäºå…¬å¼€çš„ç¤¾äº¤å¹³å°ï¼Œè¿™æ˜¯å±äºå®¶äººçš„ç§å¯†ç©ºé—´
- **ç®€å•æ˜“ç”¨**ï¼šè€äººå°å­©éƒ½èƒ½è½»æ¾ä½¿ç”¨çš„ç•Œé¢è®¾è®¡
- **AI èµ‹èƒ½**ï¼šå€ŸåŠ© AI æŠ€æœ¯å¸®åŠ©æ ¡å¯¹é”™åˆ«å­—ã€ç”Ÿæˆé…å›¾

---

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### ğŸ  ç”¨æˆ·ç³»ç»Ÿ
- **é¢„è®¾å®¶åº­è´¦å·**ï¼šå¼€ç®±å³ç”¨çš„ 4 ä¸ªå®¶åº­æˆå‘˜è´¦å·
- **è®¿é—®ç”³è¯·**ï¼šå¤–éƒ¨äººå‘˜å¯ç”³è¯·è®¿é—®ï¼Œç®¡ç†å‘˜å®¡æ ¸
- **è§’è‰²ç®¡ç†**ï¼šç®¡ç†å‘˜ã€å®¶äººã€è®¿å®¢ä¸‰ç§è§’è‰²æƒé™

### ğŸ“œ å¤è¯—å±•ç¤º
- **å¤é£æ¯›ç»ç’ƒç•Œé¢**ï¼šç²¾ç¾çš„è§†è§‰è®¾è®¡ï¼Œå½°æ˜¾å¤å…¸éŸµå‘³
- **æ—¥/å¤œæ¨¡å¼**ï¼šä¸€é”®åˆ‡æ¢ï¼Œä¿æŠ¤çœ¼ç›
- **å“åº”å¼å¸ƒå±€**ï¼šæ‰‹æœºã€å¹³æ¿ã€ç”µè„‘å®Œç¾é€‚é…
- **éšæœºå¡ç‰‡å¸ƒå±€**ï¼šæ¯æ¬¡åˆ·æ–°éƒ½æœ‰æ–°é²œæ„Ÿ

### âœï¸ å¤è¯—ç®¡ç†
- **åˆ›ä½œå‘å¸ƒ**ï¼šæ”¯æŒåˆ›å»ºåŸåˆ›æˆ–å½•å…¥ç»å…¸å¤è¯—
- **åˆ†ç±»æ£€ç´¢**ï¼šæŒ‰æœä»£ã€ä½œè€…ã€æ ‡ç­¾åˆ†ç±»
- **å›¾ç‰‡ä¸Šä¼ **ï¼šä¸ºå¤è¯—é…ä¸Šç²¾ç¾å›¾ç‰‡ï¼ˆæœ€å¤š2å¼ ï¼‰
- **å…¨æ–‡æœç´¢**ï¼šå¿«é€Ÿæ‰¾åˆ°æƒ³è¦çš„è¯—è¯

### ğŸ¤– AI å¢å¼ºï¼ˆå¯é€‰ï¼‰
- **é”™åˆ«å­—æ ¡éªŒ**ï¼šAI è‡ªåŠ¨æ£€æµ‹å¹¶æç¤ºå¯èƒ½çš„é”™åˆ«å­—
- **é…å›¾ç”Ÿæˆ**ï¼šAI æ ¹æ®è¯—æ„ç”Ÿæˆå¤é£é…å›¾
- **å¼‚æ­¥å¤„ç†**ï¼šAI åŠŸèƒ½ä¸é˜»å¡ç”¨æˆ·æ“ä½œ

### ğŸ‘¤ åå°ç®¡ç†
- **ç”¨æˆ·ç®¡ç†**ï¼šå®¡æ ¸æ–°ç”¨æˆ·ã€ç®¡ç†ç°æœ‰è´¦å·
- **å†…å®¹ç»Ÿè®¡**ï¼šæŸ¥çœ‹è¯—è¯æ•°é‡ã€ç”¨æˆ·æ´»è·ƒåº¦
- **ç³»ç»Ÿè®¾ç½®**ï¼šé…ç½®ç½‘ç«™åŸºæœ¬ä¿¡æ¯

---

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

| å±‚çº§ | æŠ€æœ¯ | è¯´æ˜ |
|------|------|------|
| **å‰ç«¯** | Vue 3 + TypeScript | ç»„åˆå¼ APIï¼Œç±»å‹å®‰å…¨ |
| **çŠ¶æ€ç®¡ç†** | Pinia | è½»é‡çº§çŠ¶æ€ç®¡ç† |
| **UI æ¡†æ¶** | Tailwind CSS | åŸå­åŒ– CSSï¼Œå¿«é€Ÿå¼€å‘ |
| **æ„å»ºå·¥å…·** | Vite | æé€Ÿçš„å¼€å‘ä½“éªŒ |
| **åç«¯** | Express.js + TypeScript | æˆç†Ÿç¨³å®šçš„ Node.js æ¡†æ¶ |
| **æ•°æ®åº“** | MongoDB + Mongoose | çµæ´»çš„æ–‡æ¡£æ•°æ®åº“ |
| **è®¤è¯** | JWT | å®‰å…¨çš„æ— çŠ¶æ€è®¤è¯ |
| **éƒ¨ç½²** | Docker + Nginx | å®¹å™¨åŒ–ä¸€é”®éƒ¨ç½² |

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- **Node.js** >= 18.0.0
- **MongoDB** >= 6.0
- **npm** >= 9.0 æˆ– **yarn** >= 1.22
- **Git**ï¼ˆå¯é€‰ï¼‰

### 1ï¸âƒ£ å…‹éš†/ä¸‹è½½é¡¹ç›®

```bash
# å¦‚æœæœ‰ Git
git clone <your-repo-url>
cd poetry-family-website

# æˆ–è€…ç›´æ¥ä¸‹è½½ ZIP è§£å‹
```

### 2ï¸âƒ£ å®‰è£…ä¾èµ–

```bash
# å®‰è£…å‰ç«¯ä¾èµ–
cd frontend
npm install

# å®‰è£…åç«¯ä¾èµ–
cd ../backend
npm install
```

### 3ï¸âƒ£ é…ç½®ç¯å¢ƒå˜é‡

```bash
# å¤åˆ¶ç¤ºä¾‹é…ç½®
cd backend
cp .env.example .env

# ç¼–è¾‘é…ç½®æ–‡ä»¶
# Windows: notepad .env
# Linux/Mac: nano .env
```

**å¿…é¡»é…ç½®çš„é¡¹ï¼š**

```env
# MongoDB è¿æ¥åœ°å€
MONGODB_URI=mongodb://localhost:27017/poetry_family

# JWT å¯†é’¥ï¼ˆç”Ÿäº§ç¯å¢ƒåŠ¡å¿…ä¿®æ”¹ä¸ºå¤æ‚çš„éšæœºå­—ç¬¦ä¸²ï¼ï¼‰
JWT_SECRET=your-super-secret-key-change-in-production
```

**å¯é€‰é…ç½®ï¼ˆAI åŠŸèƒ½ï¼‰ï¼š**

```env
# OpenAI API é…ç½® - ç”¨äºå¤è¯—æ ¡éªŒ
AI_VERIFY_API_KEY=sk-your-openai-api-key
AI_VERIFY_API_URL=https://api.openai.com/v1/chat/completions
AI_VERIFY_MODEL=gpt-3.5-turbo

# OpenAI API é…ç½® - ç”¨äºé…å›¾ç”Ÿæˆ
AI_IMAGE_API_KEY=sk-your-openai-api-key
AI_IMAGE_API_URL=https://api.openai.com/v1/images/generations
AI_IMAGE_MODEL=dall-e-3
```

> ğŸ’¡ **æç¤º**ï¼šä¸é…ç½® AI API Key ä¸å½±å“å…¶ä»–åŠŸèƒ½çš„æ­£å¸¸ä½¿ç”¨ï¼

### 4ï¸âƒ£ åˆå§‹åŒ–æ•°æ®åº“

```bash
cd backend
npm run seed
```

æ‰§è¡ŒæˆåŠŸåä¼šåˆ›å»ºä»¥ä¸‹é¢„è®¾è´¦å·ï¼š

| è´¦å· | å¯†ç  | è§’è‰² | è¯´æ˜ |
|------|------|------|------|
| `admin` | `admin123` | ç®¡ç†å‘˜ | æ‹¥æœ‰æ‰€æœ‰æƒé™ |
| `family1` | `family123` | å®¶äºº | å¯å‘å¸ƒå’Œç®¡ç†è‡ªå·±çš„è¯—è¯ |
| `family2` | `family123` | å®¶äºº | å¯å‘å¸ƒå’Œç®¡ç†è‡ªå·±çš„è¯—è¯ |
| `family3` | `family123` | å®¶äºº | å¯å‘å¸ƒå’Œç®¡ç†è‡ªå·±çš„è¯—è¯ |

> âš ï¸ **å®‰å…¨æç¤º**ï¼šé¦–æ¬¡ç™»å½•åè¯·ç«‹å³ä¿®æ”¹é»˜è®¤å¯†ç ï¼

### 5ï¸âƒ£ å¯åŠ¨å¼€å‘æœåŠ¡å™¨

**æ–¹å¼ä¸€ï¼šåˆ†å¼€å¯åŠ¨ï¼ˆæ¨èå¼€å‘æ—¶ä½¿ç”¨ï¼‰**

```bash
# ç»ˆç«¯ 1 - å¯åŠ¨åç«¯
cd backend
npm run dev
# åç«¯è¿è¡Œåœ¨ http://localhost:3000

# ç»ˆç«¯ 2 - å¯åŠ¨å‰ç«¯
cd frontend
npm run dev
# å‰ç«¯è¿è¡Œåœ¨ http://localhost:5173
```

**æ–¹å¼äºŒï¼šä½¿ç”¨ concurrently åŒæ—¶å¯åŠ¨**

```bash
# åœ¨é¡¹ç›®æ ¹ç›®å½•
npm run dev
```

### 6ï¸âƒ£ è®¿é—®ç½‘ç«™

æ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼š**http://localhost:5173**

---

## ğŸ“¦ ç”Ÿäº§éƒ¨ç½²

### æ–¹å¼ä¸€ï¼šDocker Composeï¼ˆæ¨èï¼‰

è¿™æ˜¯æœ€ç®€å•çš„éƒ¨ç½²æ–¹å¼ï¼Œé€‚åˆå¤§å¤šæ•° Linux æœåŠ¡å™¨ã€‚

#### 1. å®‰è£… Docker

```bash
# Ubuntu/Debian
curl -fsSL https://get.docker.com | sh
sudo systemctl enable docker
sudo systemctl start docker

# å®‰è£… Docker Compose æ’ä»¶
sudo apt update
sudo apt install docker-compose-plugin
```

#### 2. ä¸Šä¼ é¡¹ç›®åˆ°æœåŠ¡å™¨

```bash
# æ–¹å¼ä¸€ï¼šä½¿ç”¨ scp
scp -r poetry-family-website user@your-server:/home/user/

# æ–¹å¼äºŒï¼šä½¿ç”¨ rsyncï¼ˆæ¨èï¼Œæ”¯æŒæ–­ç‚¹ç»­ä¼ ï¼‰
rsync -avz --progress poetry-family-website user@your-server:/home/user/

# æ–¹å¼ä¸‰ï¼šåœ¨æœåŠ¡å™¨ä¸Š git clone
ssh user@your-server
git clone <your-repo-url>
```

#### 3. é…ç½®ç¯å¢ƒå˜é‡

```bash
cd /home/user/poetry-family-website

# åˆ›å»ºç”Ÿäº§ç¯å¢ƒé…ç½®
cat > .env << 'EOF'
# ç”Ÿäº§ç¯å¢ƒ JWT å¯†é’¥ï¼ˆåŠ¡å¿…ä¿®æ”¹ï¼ï¼‰
JWT_SECRET=your-very-long-and-random-secret-key-for-production-12345

# AI åŠŸèƒ½é…ç½®ï¼ˆå¯é€‰ï¼‰
AI_VERIFY_API_KEY=sk-your-key
AI_IMAGE_API_KEY=sk-your-key
EOF
```

#### 4. å¯åŠ¨æœåŠ¡

```bash
# æ„å»ºå¹¶å¯åŠ¨æ‰€æœ‰æœåŠ¡
docker compose up -d --build

# æŸ¥çœ‹è¿è¡ŒçŠ¶æ€
docker compose ps
```

#### 5. åˆå§‹åŒ–æ•°æ®

```bash
# é¦–æ¬¡éƒ¨ç½²éœ€è¦åˆå§‹åŒ–é¢„è®¾è´¦å·
docker compose exec backend npm run seed
```

#### 6. å¸¸ç”¨è¿ç»´å‘½ä»¤

```bash
# æŸ¥çœ‹æ—¥å¿—
docker compose logs -f              # æ‰€æœ‰æœåŠ¡
docker compose logs -f backend      # ä»…åç«¯
docker compose logs -f frontend     # ä»…å‰ç«¯

# é‡å¯æœåŠ¡
docker compose restart

# åœæ­¢æœåŠ¡
docker compose down

# æ›´æ–°éƒ¨ç½²
git pull
docker compose up -d --build
```

### æ–¹å¼äºŒï¼šæ‰‹åŠ¨éƒ¨ç½²

é€‚åˆéœ€è¦æ›´ç²¾ç»†æ§åˆ¶çš„åœºæ™¯ã€‚

#### 1. å®‰è£…ä¾èµ–ç¯å¢ƒ

```bash
# å®‰è£… Node.js 18
curl -fsSL https://deb.nodesource.com/setup_18.x | sudo -E bash -
sudo apt install -y nodejs

# éªŒè¯å®‰è£…
node -v  # åº”æ˜¾ç¤º v18.x.x
npm -v   # åº”æ˜¾ç¤º 9.x.x

# å®‰è£… MongoDBï¼ˆUbuntu 22.04ï¼‰
wget -qO - https://www.mongodb.org/static/pgp/server-6.0.asc | sudo apt-key add -
echo "deb [ arch=amd64,arm64 ] https://repo.mongodb.org/apt/ubuntu jammy/mongodb-org/6.0 multiverse" | sudo tee /etc/apt/sources.list.d/mongodb-org-6.0.list
sudo apt update
sudo apt install -y mongodb-org
sudo systemctl enable mongod
sudo systemctl start mongod
```

#### 2. æ„å»ºé¡¹ç›®

```bash
cd poetry-family-website

# æ„å»ºå‰ç«¯
cd frontend
npm install
npm run build

# æ„å»ºåç«¯
cd ../backend
npm install
npm run build
```

#### 3. é…ç½® Nginx

```bash
sudo nano /etc/nginx/sites-available/poetry
```

å†™å…¥ä»¥ä¸‹é…ç½®ï¼š

```nginx
server {
    listen 80;
    server_name your-domain.com;  # æ”¹æˆä½ çš„åŸŸåæˆ– IP

    # å‰ç«¯é™æ€æ–‡ä»¶
    root /home/user/poetry-family-website/frontend/dist;
    index index.html;

    # Gzip å‹ç¼©
    gzip on;
    gzip_types text/plain text/css application/json application/javascript text/xml application/xml;

    # API ä»£ç†
    location /api {
        proxy_pass http://127.0.0.1:3000;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }

    # ä¸Šä¼ æ–‡ä»¶ä»£ç†
    location /uploads {
        proxy_pass http://127.0.0.1:3000;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
    }

    # å‰ç«¯è·¯ç”± - SPA æ”¯æŒ
    location / {
        try_files $uri $uri/ /index.html;
    }

    # é™æ€èµ„æºç¼“å­˜
    location ~* \.(js|css|png|jpg|jpeg|gif|ico|svg|woff|woff2)$ {
        expires 30d;
        add_header Cache-Control "public, no-transform";
    }
}
```

å¯ç”¨é…ç½®ï¼š

```bash
sudo ln -s /etc/nginx/sites-available/poetry /etc/nginx/sites-enabled/
sudo nginx -t  # æµ‹è¯•é…ç½®
sudo systemctl reload nginx
```

#### 4. ä½¿ç”¨ PM2 ç®¡ç†åç«¯

```bash
# å®‰è£… PM2
sudo npm install -g pm2

# å¯åŠ¨åç«¯
cd /home/user/poetry-family-website/backend
pm2 start dist/index.js --name poetry-backend

# è®¾ç½®å¼€æœºè‡ªå¯
pm2 save
pm2 startup
# æŒ‰ç…§æç¤ºæ‰§è¡Œè¾“å‡ºçš„å‘½ä»¤
```

PM2 å¸¸ç”¨å‘½ä»¤ï¼š

```bash
pm2 status          # æŸ¥çœ‹çŠ¶æ€
pm2 logs            # æŸ¥çœ‹æ—¥å¿—
pm2 restart all     # é‡å¯æ‰€æœ‰
pm2 reload all      # å¹³æ»‘é‡å¯
```

### é…ç½® HTTPSï¼ˆæ¨èï¼‰

ä½¿ç”¨ Let's Encrypt å…è´¹è¯ä¹¦ï¼š

```bash
# å®‰è£… Certbot
sudo apt install certbot python3-certbot-nginx

# è·å–è¯ä¹¦ï¼ˆè‡ªåŠ¨é…ç½® Nginxï¼‰
sudo certbot --nginx -d your-domain.com

# æµ‹è¯•è‡ªåŠ¨ç»­æœŸ
sudo certbot renew --dry-run
```

---

## âš™ï¸ é…ç½®è¯´æ˜

### åç«¯ç¯å¢ƒå˜é‡ (.env)

| å˜é‡å | å¿…å¡« | é»˜è®¤å€¼ | è¯´æ˜ |
|--------|------|--------|------|
| `PORT` | å¦ | `3000` | åç«¯æœåŠ¡ç«¯å£ |
| `MONGODB_URI` | æ˜¯ | - | MongoDB è¿æ¥å­—ç¬¦ä¸² |
| `JWT_SECRET` | æ˜¯ | - | JWT ç­¾åå¯†é’¥ |
| `JWT_EXPIRES_IN` | å¦ | `7d` | Token æœ‰æ•ˆæœŸ |
| `UPLOAD_DIR` | å¦ | `../uploads` | æ–‡ä»¶ä¸Šä¼ ç›®å½• |
| `MAX_FILE_SIZE` | å¦ | `5242880` | æœ€å¤§ä¸Šä¼ æ–‡ä»¶å¤§å°(å­—èŠ‚) |
| `AI_VERIFY_API_KEY` | å¦ | - | å¤è¯—æ ¡éªŒ AI API Key |
| `AI_VERIFY_API_URL` | å¦ | OpenAI | å¤è¯—æ ¡éªŒ API åœ°å€ |
| `AI_VERIFY_MODEL` | å¦ | `gpt-3.5-turbo` | æ ¡éªŒä½¿ç”¨çš„æ¨¡å‹ |
| `AI_IMAGE_API_KEY` | å¦ | - | é…å›¾ç”Ÿæˆ AI API Key |
| `AI_IMAGE_API_URL` | å¦ | OpenAI | é…å›¾ç”Ÿæˆ API åœ°å€ |
| `AI_IMAGE_MODEL` | å¦ | `dall-e-3` | é…å›¾ä½¿ç”¨çš„æ¨¡å‹ |

### å‰ç«¯ç¯å¢ƒå˜é‡

**å¼€å‘ç¯å¢ƒ** (`.env.development`)ï¼š

```env
VITE_API_BASE_URL=http://localhost:3000/api
```

**ç”Ÿäº§ç¯å¢ƒ** (`.env.production`)ï¼š

```env
VITE_API_BASE_URL=/api
```

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
poetry-family-website/
â”œâ”€â”€ frontend/                    # å‰ç«¯é¡¹ç›®
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ assets/             # é™æ€èµ„æº
â”‚   â”‚   â”œâ”€â”€ components/         # é€šç”¨ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ Navbar.vue      # å¯¼èˆªæ 
â”‚   â”‚   â”‚   â”œâ”€â”€ Footer.vue      # é¡µè„š
â”‚   â”‚   â”‚   â””â”€â”€ PoetryCard.vue  # è¯—è¯å¡ç‰‡
â”‚   â”‚   â”œâ”€â”€ views/              # é¡µé¢è§†å›¾
â”‚   â”‚   â”‚   â”œâ”€â”€ Home.vue        # é¦–é¡µ
â”‚   â”‚   â”‚   â”œâ”€â”€ Login.vue       # ç™»å½•
â”‚   â”‚   â”‚   â”œâ”€â”€ Register.vue    # æ³¨å†Œ
â”‚   â”‚   â”‚   â”œâ”€â”€ Create.vue      # åˆ›ä½œé¡µ
â”‚   â”‚   â”‚   â”œâ”€â”€ Profile.vue     # ä¸ªäººä¸­å¿ƒ
â”‚   â”‚   â”‚   â”œâ”€â”€ Admin.vue       # åå°ç®¡ç†
â”‚   â”‚   â”‚   â””â”€â”€ PoetryDetail.vue # è¯—è¯è¯¦æƒ…
â”‚   â”‚   â”œâ”€â”€ stores/             # Pinia çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ auth.ts         # ç”¨æˆ·è®¤è¯çŠ¶æ€
â”‚   â”‚   â”‚   â”œâ”€â”€ theme.ts        # ä¸»é¢˜çŠ¶æ€
â”‚   â”‚   â”‚   â””â”€â”€ poetry.ts       # è¯—è¯æ•°æ®çŠ¶æ€
â”‚   â”‚   â”œâ”€â”€ services/           # API æœåŠ¡
â”‚   â”‚   â”‚   â”œâ”€â”€ api.ts          # Axios å®ä¾‹
â”‚   â”‚   â”‚   â”œâ”€â”€ auth.ts         # è®¤è¯ API
â”‚   â”‚   â”‚   â””â”€â”€ poetry.ts       # è¯—è¯ API
â”‚   â”‚   â”œâ”€â”€ router/             # è·¯ç”±é…ç½®
â”‚   â”‚   â””â”€â”€ types/              # TypeScript ç±»å‹
â”‚   â”œâ”€â”€ public/                 # å…¬å…±èµ„æº
â”‚   â”œâ”€â”€ index.html
â”‚   â”œâ”€â”€ vite.config.ts
â”‚   â”œâ”€â”€ tailwind.config.js
â”‚   â””â”€â”€ package.json
â”‚
â”œâ”€â”€ backend/                     # åç«¯é¡¹ç›®
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ config/             # é…ç½®
â”‚   â”‚   â”‚   â””â”€â”€ database.ts     # æ•°æ®åº“è¿æ¥
â”‚   â”‚   â”œâ”€â”€ controllers/        # æ§åˆ¶å™¨
â”‚   â”‚   â”‚   â”œâ”€â”€ auth.ts         # è®¤è¯æ§åˆ¶å™¨
â”‚   â”‚   â”‚   â””â”€â”€ poetry.ts       # è¯—è¯æ§åˆ¶å™¨
â”‚   â”‚   â”œâ”€â”€ models/             # æ•°æ®æ¨¡å‹
â”‚   â”‚   â”‚   â”œâ”€â”€ User.ts         # ç”¨æˆ·æ¨¡å‹
â”‚   â”‚   â”‚   â””â”€â”€ Poetry.ts       # è¯—è¯æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ routes/             # è·¯ç”±
â”‚   â”‚   â”‚   â”œâ”€â”€ auth.ts         # è®¤è¯è·¯ç”±
â”‚   â”‚   â”‚   â”œâ”€â”€ poetry.ts       # è¯—è¯è·¯ç”±
â”‚   â”‚   â”‚   â””â”€â”€ ai.ts           # AI åŠŸèƒ½è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ middleware/         # ä¸­é—´ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ auth.ts         # JWT éªŒè¯
â”‚   â”‚   â”‚   â””â”€â”€ upload.ts       # æ–‡ä»¶ä¸Šä¼ 
â”‚   â”‚   â”œâ”€â”€ services/           # ä¸šåŠ¡æœåŠ¡
â”‚   â”‚   â”‚   â””â”€â”€ aiService.ts    # AI æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ scripts/            # è„šæœ¬
â”‚   â”‚   â”‚   â””â”€â”€ seed.ts         # æ•°æ®åˆå§‹åŒ–
â”‚   â”‚   â”œâ”€â”€ types/              # ç±»å‹å®šä¹‰
â”‚   â”‚   â””â”€â”€ index.ts            # å…¥å£æ–‡ä»¶
â”‚   â”œâ”€â”€ .env.example            # ç¯å¢ƒå˜é‡ç¤ºä¾‹
â”‚   â”œâ”€â”€ tsconfig.json
â”‚   â”œâ”€â”€ Dockerfile
â”‚   â””â”€â”€ package.json
â”‚
â”œâ”€â”€ uploads/                     # ä¸Šä¼ æ–‡ä»¶ç›®å½•
â”œâ”€â”€ docker-compose.yml           # Docker ç¼–æ’
â”œâ”€â”€ deploy.sh                    # éƒ¨ç½²è„šæœ¬
â”œâ”€â”€ .gitignore
â””â”€â”€ README.md
```

---

## â“ å¸¸è§é—®é¢˜

### Q1: npm install æŠ¥é”™ï¼Ÿ

```bash
# æ¸…é™¤ç¼“å­˜é‡è¯•
npm cache clean --force
rm -rf node_modules package-lock.json
npm install
```

### Q2: MongoDB è¿æ¥å¤±è´¥ï¼Ÿ

```bash
# æ£€æŸ¥ MongoDB æœåŠ¡çŠ¶æ€
sudo systemctl status mongod

# å¯åŠ¨æœåŠ¡
sudo systemctl start mongod

# æŸ¥çœ‹æ—¥å¿—
sudo tail -f /var/log/mongodb/mongod.log
```

### Q3: å›¾ç‰‡ä¸Šä¼ å¤±è´¥ï¼Ÿ

```bash
# æ£€æŸ¥ uploads ç›®å½•æƒé™
ls -la uploads/

# ä¿®æ”¹æƒé™
chmod 755 uploads/
chown -R www-data:www-data uploads/  # å¦‚æœä½¿ç”¨ Nginx
```

### Q4: å¦‚ä½•ä¿®æ”¹é¢„è®¾è´¦å·å¯†ç ï¼Ÿ

æœ‰ä¸¤ç§æ–¹å¼ï¼š
1. ç™»å½•ååœ¨ã€Œä¸ªäººä¸­å¿ƒã€ä¿®æ”¹
2. ä¿®æ”¹ `backend/src/scripts/seed.ts` åé‡æ–°è¿è¡Œï¼š
   ```bash
   npm run seed
   ```

### Q5: Docker æ„å»ºå¾ˆæ…¢ï¼Ÿ

ä½¿ç”¨å›½å†…é•œåƒæºï¼š

```bash
# åˆ›å»º Docker é…ç½®
sudo mkdir -p /etc/docker
sudo tee /etc/docker/daemon.json << 'EOF'
{
  "registry-mirrors": [
    "https://mirror.ccs.tencentyun.com",
    "https://registry.docker-cn.com"
  ]
}
EOF
sudo systemctl restart docker
```

### Q6: å¦‚ä½•å¤‡ä»½æ•°æ®ï¼Ÿ

```bash
# å¤‡ä»½ MongoDB
mongodump --db poetry_family --out /backup/$(date +%Y%m%d)

# æ¢å¤
mongorestore --db poetry_family /backup/20240101/poetry_family
```

---

## ğŸ“„ å¼€æºåè®®

æœ¬é¡¹ç›®é‡‡ç”¨ [MIT](LICENSE) åè®®å¼€æºã€‚

---

## ğŸ™ è‡´è°¢

- [Vue.js](https://vuejs.org/) - æ¸è¿›å¼ JavaScript æ¡†æ¶
- [Tailwind CSS](https://tailwindcss.com/) - å®ç”¨ä¼˜å…ˆçš„ CSS æ¡†æ¶
- [Express.js](https://expressjs.com/) - Node.js Web æ¡†æ¶
- [MongoDB](https://www.mongodb.com/) - æ–‡æ¡£æ•°æ®åº“

---

<p align="center">
  ç”¨ â¤ï¸ ä¸ºå®¶äººæ‰“é€ 
</p>
